<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
<title>Kalkulator wypłaty — CarNet</title>

<!-- Open Sans -->
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
:root{
  --accent: #21C0FC;
  --muted: #9aa;
  --glass-border: rgba(255,255,255,0.08);
  --net-factor: 0.82; /* brutto->netto */
  --max-width-app: 1200px;
}

/* base */
*{ box-sizing: border-box; }
html, body {
  margin: 0;
  padding: 0;
  height: 100%;             
  min-height: 100vh;
  font-family: "Open Sans", Arial, sans-serif;
  color: #fff;
  position: relative;
  overflow-x: hidden;       
}

body::before {
  content: "";
  position: fixed;          
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url("https://carnet.pl/app/uploads/2025/05/weekend.png") no-repeat center center fixed;
  background-size: cover;   
  filter: blur(6px);        
  z-index: -2;              
}

body::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.55);  
  z-index: -1;                   
}

/* layout */
.main-wrapper {
  width: 100%;
  max-width: var(--max-width-app);
  margin: 40px auto;
  display: flex;
  gap: 30px;
  padding: 0;
  align-items: flex-start;
  justify-content: center;
  box-sizing: border-box;
}

/* card style */
.card {
  background: rgba(28,28,28,0.75);
  border-radius: 14px;
  padding: 28px;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: none;          /* usunięta biała ramka */
  box-shadow: none;      /* usunięty cień */
  color: #eaf6ff;
  flex: 1 1 50%;         /* równa szerokość dla obu paneli */
}

/* header */
.container img { display:block; width: 200px; margin: 0 auto 18px; }
h2 { color: var(--accent); text-align:center; margin:6px 0 18px; font-size: 26px; font-weight:800; }

/* labels and inputs */
.field-label { display:block; color: var(--accent); font-weight:700; margin:12px 0 6px; font-size:15px; }
input[type="number"]{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  background: rgba(255,255,255,0.08);
  color: #fff;
  font-size:15px;
}

/* checkbox */
.checkbox-label { margin:16px 0; }
.checkbox-label label {
  display:flex;
  align-items:center;
  gap:10px;
  cursor:pointer;
  font-weight:700;
  color: var(--accent);
  font-size:15px;
}
.checkbox-label input[type="checkbox"]{ transform:scale(1.2); margin:0; accent-color: var(--accent); }

/* buttons */
.btn-row { display:flex; gap:12px; justify-content:center; margin-top:12px; flex-wrap:wrap; }
button {
  background: var(--accent);
  color: #fff;
  border:none;
  padding: 12px 26px;
  border-radius:10px;
  font-weight:700;
  font-size:15px;
  cursor:pointer;
  transition: background .14s ease, transform .08s ease;
}
button:active{ transform: translateY(1px); }
button.secondary { background:#777; color:#fff; }
button:hover{ background:#1aa8e9; }
button.secondary:hover{ background:#5b5b5b; }

/* results */
.result { margin-top:18px; color: var(--accent); font-weight:800; text-align:center; font-size:17px; }
.details { margin-top:12px; background: rgba(255,255,255,0.05); padding:12px; border-radius:10px; color:#dbeaf7; font-size:14px; line-height:1.45; border:none; }

/* sidebar formatting */
.sidebar strong { color:var(--accent); display:block; margin-bottom:10px; font-size:16px; font-weight:700; }
.sidebar ul { margin-left:18px; padding-left:0; }

/* credits */
.credits { margin-top:14px; text-align:center; color:var(--muted); font-size:12px; }
.credits span{ color:var(--accent); font-weight:700; }

/* responsive */
@media (max-width: 980px) {
  .main-wrapper { flex-direction:column; padding:14px; gap:16px; align-items:center; }
  .card { width: 100%; max-width: 760px; }
  h2{ font-size:24px; }
}
</style>
</head>
<body>

<div class="main-wrapper">

  <div class="card container">
    <img src="https://i.ibb.co/Csb6yXgJ/Logo-CAR-NET-1.png" alt="CarNet logo" />
    <h2>Kalkulator wypłaty</h2>

    <label class="field-label" for="hours">Ilość godzin:</label>
    <input id="hours" type="number" inputmode="numeric" min="0" placeholder="np. 218" />

    <label class="field-label" for="tasks">Ilość zadań premiowanych:</label>
    <input id="tasks" type="number" inputmode="numeric" min="0" placeholder="np. 270" />

    <div class="checkbox-label">
      <label for="student">
        <input id="student" type="checkbox" />
        Status ucznia (stawka 30,50 zł/h)
      </label>
    </div>

    <div class="btn-row">
      <button id="calcBtn" type="button">Oblicz</button>
      <button id="resetBtn" type="button" class="secondary">Resetuj</button>
    </div>

    <div id="resultSummary" class="result" style="display:none;"></div>
    <div id="resultDetails" class="details" style="display:none;"></div>

    <div class="credits">supported by <span>dejw03</span></div>
  </div>

  <div class="card sidebar">
    <strong>Zadania premiowane:</strong>
    <ul>
      <li>Wydaj pojazd (do najmu)</li>
      <li>Odbierz pojazd (z najmu)</li>
      <li>Podstaw pojazd (do najmu)</li>
      <li>Wróć z odbioru (z najmu)</li>
      <li>Podstaw pojazd do serwisu</li>
      <li>Wróć z serwisu</li>
      <li>Przygotuj pojazd (kompletne przygotowanie)</li>
      <li>Transport pojazdu do dealera</li>
      <li>Odbiór pojazdu od dealera</li>
      <li>Relokuj pojazd (pow. 2 km)</li>
      <li>Relokacja sprzedażowa (pow. 2 km)</li>
      <li>Inne – Dojazd/powrót z relokacji</li>
    </ul>

    <strong>Wskaźnik oraz kwoty premii (stan 18.07.2025)</strong>
    <ul>
      <li>do 160 = 0 zł</li>
      <li>160 – 169 = 200 zł</li>
      <li>170 – 179 = 400 zł</li>
      <li>180 – 189 = 600 zł</li>
      <li>190 – 199 = 800 zł</li>
      <li>powyżej 200 = 1000 zł</li>
    </ul>
  </div>

</div>

<script>
const STAWKA_CARNET_BRUTTO = 28.00;
const STAWKA_UCZEN_BRUTTO = 30.50;
const STAWKA_MIN_NETTO = 23.00;
const NET_FACTOR = 0.82;

const hoursInput = document.getElementById('hours');
const tasksInput = document.getElementById('tasks');
const studentCheckbox = document.getElementById('student');
const calcBtn = document.getElementById('calcBtn');
const resetBtn = document.getElementById('resetBtn');
const resultSummary = document.getElementById('resultSummary');
const resultDetails = document.getElementById('resultDetails');

function grossToNet(value){ return +(value * NET_FACTOR).toFixed(2); }

function calculate(){
  const hours = parseFloat(hoursInput.value);
  const tasks = parseFloat(tasksInput.value);
  if (isNaN(hours) || isNaN(tasks) || hours < 0 || tasks < 0){
    alert("Podaj poprawne wartości!");
    return;
  }
  const isStudent = studentCheckbox.checked;
  const wsk = hours > 0 ? (tasks / hours) * 168 : 0;
  let premia = 0;
  if (wsk >= 160 && wsk < 170) premia = 200;
  else if (wsk < 180) premia = 400;
  else if (wsk < 190) premia = 600;
  else if (wsk < 200) premia = 800;
  else if (wsk >= 200) premia = 1000;

  const carnetBrutto = hours * STAWKA_CARNET_BRUTTO;
  let total = 0;
  let szczegoly = "";

  if (hours >= 100 && wsk >= 160){
    if (isStudent){
      total = carnetBrutto + premia;
      szczegoly = `Wypłata carnetowa: ${carnetBrutto.toFixed(2)} zł<br>Premia: ${premia} zł`;
    } else {
      total = grossToNet(carnetBrutto) + grossToNet(premia);
      szczegoly = `Wypłata carnetowa netto: ${grossToNet(carnetBrutto)} zł<br>Premia netto: ${grossToNet(premia)} zł`;
    }
  } else {
    if (isStudent){
      total = STAWKA_UCZEN_BRUTTO * hours;
      szczegoly = `Minimalna stawka ucznia: ${STAWKA_UCZEN_BRUTTO.toFixed(2)} zł/h`;
    } else {
      total = STAWKA_MIN_NETTO * hours;
      szczegoly = `Minimalna stawka bez statusu: ${STAWKA_MIN_NETTO.toFixed(2)} zł/h`;
    }
  }

  resultSummary.style.display = "block";
  resultDetails.style.display = "block";
  resultSummary.innerHTML = `Wypłata końcowa: <strong>${total.toFixed(2)} zł</strong>`;
  resultDetails.innerHTML = szczegoly + `<br><strong>Wskaźnik:</strong> ${wsk.toFixed(2)}<br><br><em>Uwaga: do uzyskania premii wymagane jest przepracowanie min. 100h i wskaźnik >=160. Przy braku spełnienia warunków kalkulowana jest płaca minimalna.</em>`;
}

function resetForm(){
  hoursInput.value = "";
  tasksInput.value = "";
  studentCheckbox.checked = false;
  resultSummary.style.display = "none";
  resultDetails.style.display = "none";
  resultSummary.innerHTML = "";
  resultDetails.innerHTML = "";
}

calcBtn.addEventListener("click", calculate);
resetBtn.addEventListener("click", resetForm);
</script>
</body>
</html>
